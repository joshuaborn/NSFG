---
title: "Formats"
author: "Joshua Born"
output:
  html_document:
    code_folding: hide
    toc: true
    toc_depth: 5
---

```{r setup, include=FALSE}
library(data.table)
library(here)
library(knitr)

i_am('reports/formats.Rmd')

source(here('R/import.R'))

opts_chunk$set(
  cache = TRUE,
  echo = TRUE,
  fig.height = 8,
  fig.width = 12,
  warning = FALSE
)
```

```{r load-data}
fem1719 <- load_NSFG_data('2017_2019', 'FemResp')
male1719 <- load_NSFG_data('2017_2019', 'Male')
```

# `METH3MF`

## Females

```{r, dependson='load-data'}
fem1719$Formats[
  format_name == 'METH3MF',
  .(factor_value, factor_label)
] |> kable()
```

## Males

```{r, dependson='load-data'}
male1719$Formats[
  format_name == 'METH3MF',
  .(factor_value, factor_label)
] |> kable()
```

# `OTHRMETHF`, `METHHFXF`, and `METHSTOPF`

```{r, dependson='load-data'}
dcast(
  fem1719$Formats[
    format_name %in% c(
      'OTHRMETHF',
      'METHHXF',
      'METHSTOPF'
    )
  ],
  factor_value ~ format_name,
  value.var = 'factor_label'
) |> kable()
```

# `STOPPILLFMT`

```{r, dependson='load-data'}
fem1719$Formats[
  format_name == 'STOPPILLFMT',
  .(factor_value, factor_label)
] |> kable()
```
